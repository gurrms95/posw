<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layouts/user_layout}">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* 전체 페이지 스타일 */
        body {
            font-family: Arial, sans-serif; /* 기본 폰트 설정 */
            margin: 0;
            padding: 0;
            background: url('/img/svg/pattern-1.svg') no-repeat center bottom fixed; /* 배경 이미지 */
            background-size: cover; /* 배경 이미지 크기 조정 */
        }

        /* 페이지 래퍼 스타일 */
        .page-wrapper.auth {
            min-height: 100vh; /* 전체 화면 높이 */
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* 폼 컨테이너 스타일 */
        .form-container {
            background: #fff; /* 폼 배경 색상 */
            padding: 20px; /* 폼 내부 여백 */
            border-radius: 8px; /* 모서리 둥글게 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* 그림자 효과 */
            max-width: 600px; /* 최대 너비 설정 */
            width: 100%; /* 전체 너비 설정 */
            margin: 0 auto; /* 가운데 정렬 */
        }

        /* 제목 스타일 */
        h1 {
            font-size: 24px; /* 제목 크기 */
            margin-bottom: 20px; /* 제목과 폼 사이 여백 */
            color: #333; /* 제목 색상 */
            text-align: center; /* 제목 가운데 정렬 */
        }

        /* 폼 그룹 스타일 */
        .form-group {
            margin-bottom: 15px; /* 폼 그룹 사이 여백 */
        }

        /* 레이블 스타일 */
        label {
            display: block; /* 블록 요소로 설정 */
            font-size: 14px; /* 레이블 폰트 크기 */
            margin-bottom: 5px; /* 레이블과 입력 필드 사이 여백 */
            color: #333; /* 레이블 색상 */
        }

        /* 입력 필드 스타일 */
        input[type="text"],
        textarea,
        select {
            width: 100%; /* 입력 필드 너비 설정 */
            padding: 10px; /* 입력 필드 내부 여백 */
            border: 1px solid #ccc; /* 테두리 색상 */
            border-radius: 4px; /* 모서리 둥글게 */
            box-sizing: border-box; /* 패딩 및 보더를 너비에 포함 */
            font-size: 14px; /* 입력 필드 폰트 크기 */
            background: #f9f9f9; /* 배경색 */
        }

        /* 텍스트영역 스타일 */
        textarea {
            resize: vertical; /* 수직으로 크기 조절 가능 */
        }

        /* 버튼 그룹 스타일 */
        .button-group {
            position: fixed; /* 화면에 고정 */
            bottom: 85px; /* 화면 하단으로부터 85px */
            right: 100px; /* 화면 오른쪽으로부터 100px */
            display: flex; /* 버튼들을 수평으로 배치 */
            gap: 10px; /* 버튼 사이의 간격 */
        }

        /* 원형 버튼 스타일 */
        .btn-circle {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: #9FCB3D; /* 기본 배경색 */
            color: #fff; /* 아이콘과 텍스트 색상 */
            border-radius: 50px; /* 원형 모서리 설정 */
            padding: 10px 20px; /* 버튼의 패딩 */
            text-decoration: none; /* 링크 밑줄 제거 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* 버튼 그림자 */
            z-index: 1000; /* 버튼을 다른 요소들 위에 위치시키기 위한 z-index */
            font-size: 16px; /* 텍스트 크기 */
            font-weight: bold; /* 텍스트 두께 */
            border: none; /* 버튼 테두리 제거 */
            cursor: pointer; /* 클릭 가능하게 */
        }

        .btn-circle:hover {
            background-color: #8DB92B; /* 버튼에 마우스를 올리면 배경색 변경 */
        }

        .btn-circle i {
            font-size: 20px; /* 아이콘 크기 */
            margin-right: 8px; /* 아이콘과 텍스트 사이 여백 */
        }

        /* 수정하기 버튼 스타일 */
        .edit-btn {
            background-color: #f39c12; /* 수정하기 버튼 배경색 */
        }

        .edit-btn:hover {
            background-color: #e67e22; /* 수정하기 버튼에 마우스를 올리면 배경색 변경 */
        }

        /* 삭제하기 버튼 스타일 */
        .delete-btn {
            background-color: #e74c3c; /* 삭제하기 버튼 배경색 */
        }

        .delete-btn:hover {
            background-color: #c0392b; /* 삭제하기 버튼에 마우스를 올리면 배경색 변경 */
        }

        /* 목록으로 버튼 스타일 */
        .list-btn {
            background-color: #3498db; /* 목록으로 버튼 배경색 */
        }

        .list-btn:hover {
            background-color: #2980b9; /* 목록으로 버튼에 마우스를 올리면 배경색 변경 */
        }

    </style>
</head>
<div layout:fragment="content">
    <div class="page-wrapper auth">
        <div class="page-inner bg-brand-gradient">
            <div class="flex-1" style="background: url(/img/svg/pattern-1.svg) no-repeat center bottom fixed; background-size: cover;">
                <br><br><br>
                <div class="row">
                    <div class="col-xl-6 ml-auto mr-auto">
                        <div class="container">
                            <div class="form-container">
                                <h1>새 게시글 등록</h1>
                                <form action="/osw/setComRegist" method="post">
                                    <div class="form-group">
                                        <label for="comKind">글 종류</label>
                                        <select id="comKind" name="type" required>
                                            <option value="" disabled selected>선택하세요</option>
                                            <option value="0" id="onlyAdmin">공지사항</option>
                                            <option value="1">게시글</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="comTitle">제목</label>
                                        <input type="text" id="comTitle" name="comTitle" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="comContent">내용</label>
                                        <textarea id="comContent" name="comContent" rows="10" required></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="comWriter">작성자</label>
                                        <input type="text" id="comWriter" name="comWriter" required readonly>
                                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                                    </div>
                                    <!-- 버튼들을 포함하는 div 추가 -->
                                    <div class="button-group">
                                        <button type="submit" class="btn-circle">
                                            <i class="fas fa-check"></i> 등록하기
                                        </button>
                                        <!--<button type="button" class="btn-circle edit-btn">
                                            <i class="fas fa-edit"></i> 수정하기
                                        </button>
                                        <button type="button" class="btn-circle delete-btn">
                                            <i class="fas fa-trash"></i> 삭제하기
                                        </button>-->
                                        <button type="button" class="btn-circle list-btn">
                                            <i class="fas fa-list"></i> 목록으로
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script th:inline="javascript">
            /*<![CDATA[*/
            let userNm = /*[[${USERNM}]]*/'{}';
            let userRole = /*[[${USERROLE}]]*/'{}';
            /*]]>*/
            $('#comWriter').val(userNm);

            if('ROLE_ADMIN' !== userRole[0].authority){
                $('#onlyAdmin').remove();
            }
        </script>
        <script>
            $(document).ready(function (){
               $('.list-btn').on('click', function (e){
                   e.preventDefault();
                   window.location.href = '/osw/comView?tab=posts';
               })
            });
        </script>
    </div>
</div>
</html>
